<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ortelius to Lat/Long</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.7.5/proj4.js"></script>
</head>
<body>
  <svg id="svg" width="1023" height="510" viewBox="0 0 1023 510" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M842.614 161.788L849.321 162.703C850.121 162.812 850.386 163.835 849.741 164.319C849.584 164.437 849.394 164.5 849.199 164.5H847.5H843.979C843.332 164.5 842.691 164.623 842.091 164.864L842.024 164.89C841.035 165.286 840.203 165.995 839.655 166.908C839.226 167.624 838.619 168.218 837.894 168.632L837.264 168.992C836.108 169.653 834.8 170 833.468 170H832.5H830.414C829.509 170 828.64 169.64 828 169L827.766 168.766C827.275 168.275 826.61 168 825.917 168C825.323 168 824.747 168.202 824.284 168.573L823.75 169C822.941 169.647 821.935 170 820.899 170H819H817.895C817.322 170 816.772 169.772 816.367 169.367C815.589 168.589 814.35 168.52 813.49 169.208L812.878 169.698C812.627 169.898 812.347 170.057 812.047 170.17L808.5 171.5L807.586 171.957C806.219 172.641 805.054 173.669 804.206 174.94L804.12 175.071C803.709 175.687 803.211 176.241 802.642 176.715L801.806 177.412C800.962 178.115 799.899 178.5 798.8 178.5C797.949 178.5 797.115 178.269 796.385 177.831L795 177L793.441 176.109C792.176 175.386 791.152 174.304 790.5 173L788.929 170.643C788.644 170.216 788.418 169.754 788.256 169.267C787.772 167.815 786.731 166.616 785.363 165.931L784.5 165.5L783.983 165.242C783.074 164.787 782.5 163.858 782.5 162.842V162.5C782.5 161.87 782.796 161.278 783.3 160.9C784.011 160.367 784.989 160.367 785.7 160.9L787.449 162.212C788.138 162.728 788.678 163.416 789.018 164.208L790.217 167.006C791.061 168.976 792.346 170.725 793.974 172.12L795 173L796.841 174.381C797.965 175.224 799.578 174.843 800.207 173.587C800.398 173.203 800.695 172.883 801.062 172.663L805.5 170L810.5 167L811.026 166.606C811.983 165.888 813.147 165.5 814.343 165.5H815.922C816.603 165.5 817.248 165.81 817.673 166.342C818.417 167.272 819.759 167.458 820.728 166.766L821.615 166.132C822.191 165.721 822.88 165.5 823.588 165.5H824.875C826.264 165.5 827.624 165.89 828.802 166.626L829.595 167.122C830.513 167.696 831.574 168 832.656 168C834.449 168 836.141 167.167 837.234 165.746L839.199 163.191C840.004 162.145 841.307 161.61 842.614 161.788Z" fill="#FF0000" stroke="black" style="fill:#FF0000;fill:color(display-p3 1.0000 0.0000 0.0000);fill-opacity:1;stroke:black;stroke-opacity:1;"/>
<path d="M756 190.404V191.25C756 191.94 756.56 192.5 757.25 192.5C757.94 192.5 758.5 191.94 758.5 191.25V190V189.719C758.5 188.283 758.011 186.889 757.114 185.767C756.707 185.259 756.224 184.816 755.683 184.455L755 184L753.074 182.624C752.04 181.886 750.843 181.406 749.586 181.227L749.217 181.174C748.414 181.059 747.642 180.785 746.946 180.368C746 179.8 744.917 179.5 743.814 179.5H743.608C742.874 179.5 742.145 179.382 741.449 179.15L740.711 178.904C739.906 178.635 739.133 178.28 738.406 177.844L737 177L734.704 175.163C734.568 175.055 734.422 174.961 734.267 174.883L734.055 174.778C733.147 174.323 732.675 173.299 732.922 172.313C732.974 172.105 733.056 171.907 733.166 171.723L734.322 169.796C734.439 169.602 734.5 169.381 734.5 169.154C734.5 168.325 733.706 167.727 732.909 167.954L731.229 168.434C731.077 168.478 730.929 168.536 730.787 168.607L730.739 168.631C729.673 169.163 729 170.252 729 171.444V172.5C729 174.084 729.704 175.586 730.921 176.6L731.404 177.004C731.8 177.333 732.233 177.616 732.694 177.847L736 179.5L740.5 182L744.056 183.422C745.01 183.804 746.028 184 747.055 184C748.649 184 750.208 184.472 751.534 185.356L752.5 186L753.531 186.619C754.484 187.19 755.223 188.059 755.636 189.091L755.85 189.625C755.949 189.873 756 190.137 756 190.404Z" fill="#FF0000" stroke="black" style="fill:#FF0000;fill:color(display-p3 1.0000 0.0000 0.0000);fill-opacity:1;stroke:black;stroke-opacity:1;"/>
<path d="M643.563 120.5H645.5C646.052 120.5 646.5 120.948 646.5 121.5C646.5 122.052 646.052 122.5 645.5 122.5H643.43C642.823 122.5 642.231 122.321 641.726 121.984L639.935 120.79C639.651 120.601 639.318 120.5 638.977 120.5C638.371 120.5 637.809 120.182 637.497 119.662L635.36 116.101C635.121 115.701 634.85 115.32 634.552 114.962L632.875 112.95C632.626 112.651 632.412 112.324 632.238 111.976L632.065 111.63C631.402 110.303 631.462 108.73 632.225 107.458C632.408 107.154 632.627 106.873 632.878 106.622L634.272 105.228C634.754 104.746 635.311 104.345 635.921 104.039C637.263 103.368 638.324 102.243 638.916 100.864L639.265 100.048C639.42 99.6864 639.5 99.2972 639.5 98.9039V97.0607C639.5 96.4749 639.025 96 638.439 96C638.158 96 637.888 95.8883 637.689 95.6893L637 95C636.36 94.3597 635.491 94 634.586 94H633.5H629.5H627H623.5H623.081C622.034 94 620.994 93.8312 620 93.5C619.006 93.1688 617.966 93 616.919 93H615.5C613.899 93 612.364 93.6359 611.232 94.7678L610 96L609 97L608.493 97.5066C607.9 98.0998 606.994 98.2469 606.243 97.8717C605.281 97.3903 604.89 96.2194 605.372 95.2566L606.14 93.7203C606.377 93.2458 606.715 92.8283 607.129 92.4969L609 91C609.833 90.3333 611.8 89 613 89H615.399C616.436 89 617.441 89.3527 618.25 90C619.059 90.6473 620.065 91 621.101 91H623.5H629.5H635H635.119C636.997 91 638.834 91.5561 640.397 92.5982L641.023 93.015C641.991 93.6605 642.774 94.5474 643.294 95.5882L643.475 95.9509C643.82 96.6408 644 97.4016 644 98.1729C644 99.6474 643.345 101.046 642.212 101.99L641.596 102.504C641.2 102.833 640.767 103.116 640.306 103.347L639.103 103.949C638.376 104.312 637.737 104.828 637.23 105.463C636.434 106.458 636 107.694 636 108.969V109.5C636 111.456 636.579 113.369 637.664 114.996L638 115.5L638.86 116.933C639.283 117.639 639.823 118.269 640.456 118.797L641.683 119.819C642.211 120.259 642.876 120.5 643.563 120.5Z" fill="#FF0000" stroke="black" style="fill:#FF0000;fill:color(display-p3 1.0000 0.0000 0.0000);fill-opacity:1;stroke:black;stroke-opacity:1;"/>
<path d="M590.99 169.917L590.265 169.088C589.382 168.079 590.098 166.5 591.439 166.5C592.301 166.5 593 167.199 593 168.061V170.104C593 170.367 593.029 170.63 593.086 170.886L593.626 173.318C593.874 174.435 594.259 175.518 594.771 176.542L595.648 178.295C595.882 178.764 596.072 179.254 596.216 179.758L596.613 181.145C596.864 182.024 597.396 182.797 598.128 183.346C598.7 183.775 599.152 184.343 599.443 184.996L601 188.5L601.106 188.711C601.694 189.888 602 191.185 602 192.5V195V197.817C602 198.601 601.874 199.379 601.626 200.122C601.216 201.352 600.486 202.45 599.51 203.303L597 205.5L594.208 207.827C594.071 207.94 593.965 208.086 593.9 208.251C593.554 209.114 594.398 209.976 595.268 209.65L596.702 209.112C596.899 209.038 597.081 208.929 597.239 208.791L601 205.5C602.281 204.219 604.017 203.5 605.828 203.5H606.5H608.945C610.271 203.5 611.553 203.974 612.56 204.837C613.791 205.893 614.5 207.433 614.5 209.055V212.5V213.349C614.5 214.748 614.063 216.112 613.25 217.25L612.507 218.29C612.177 218.752 612 219.305 612 219.872C612 220.594 611.713 221.287 611.203 221.797L608.5 224.5L606.816 226.605C606.606 226.867 606.364 227.102 606.095 227.304C605.091 228.057 604.5 229.239 604.5 230.494V232V233.047C604.5 234.309 604.058 235.531 603.25 236.5L603.072 236.714C602.379 237.545 602 238.592 602 239.674C602 240.541 602.244 241.39 602.703 242.124L604.034 244.255C604.339 244.742 604.5 245.305 604.5 245.879C604.5 246.96 605.07 247.961 605.999 248.514L606.5 248.811C607.74 249.548 608.5 250.884 608.5 252.327V252.395C608.5 253.72 607.876 254.968 606.816 255.763L605.405 256.821C604.81 257.268 604.327 257.846 603.994 258.512C603.364 259.773 603.32 261.247 603.876 262.543L604.433 263.845C604.478 263.948 604.532 264.048 604.594 264.141C605.404 265.356 604.545 267 603.085 267C602.416 267 601.801 266.635 601.48 266.048L600.56 264.36C599.61 262.618 599.764 260.481 600.954 258.894L602 257.5L602.972 256.334C603.959 255.149 604.5 253.655 604.5 252.113C604.5 250.739 604.071 249.399 603.272 248.281L602 246.5C601 245.167 599 242.2 599 241C599 239.027 599.459 237.081 600.342 235.317L601.106 233.789C601.694 232.612 602 231.315 602 230C602 228.069 602.715 226.206 604.007 224.77L605.821 222.755C606.273 222.252 606.688 221.718 607.063 221.155L608.5 219C609.333 217.333 611 213.7 611 212.5V212.165C611 209.987 609.579 208.063 607.497 207.422C605.667 206.859 603.675 207.4 602.381 208.812L599.986 211.424C599.334 212.135 598.558 212.721 597.694 213.153L595.049 214.476C593.807 215.096 592.315 214.913 591.261 214.009C590.196 213.097 589.79 211.63 590.233 210.3L590.98 208.059C591.322 207.034 591.898 206.102 592.662 205.338L596 202L596.172 201.828C597.983 200.017 599 197.561 599 195V193.125C599 191.485 598.18 189.954 596.816 189.044C596.277 188.685 595.815 188.223 595.456 187.684L594.418 186.127C593.48 184.721 592.805 183.156 592.425 181.509L591.859 179.054C591.62 178.021 591.5 176.965 591.5 175.906V171.274C591.5 170.775 591.319 170.293 590.99 169.917Z" fill="#FF0000" stroke="black" style="fill:#FF0000;fill:color(display-p3 1.0000 0.0000 0.0000);fill-opacity:1;stroke:black;stroke-opacity:1;"/>
<path d="M349 257H354.501C355.329 257 356 257.672 356 258.5C356 259.328 355.328 260 354.5 260H352H349H346H342H339.537C338.515 260 337.498 260.113 336.499 260.328C335.007 260.648 333.291 261 333 261H329C328 261 325.8 261.1 325 261.5C324.366 261.817 322.433 261.946 320.994 261.985C320.332 262.004 319.671 262.047 319.015 262.141L317.485 262.359C316.829 262.453 316.168 262.5 315.505 262.5H313.5H313.131C311.395 262.5 309.677 262.853 308.082 263.536C307.362 263.845 306.672 264.219 306.021 264.653L305.153 265.231C304.386 265.742 303.672 266.328 303.02 266.98L301.5 268.5L300.624 269.201C299.551 270.059 298.65 271.113 297.968 272.306C297.328 273.426 296.891 274.652 296.679 275.924L296.658 276.051C296.553 276.683 296.5 277.322 296.5 277.962V278.596C296.5 279.852 296.755 281.095 297.25 282.25L297.608 283.086C297.867 283.689 298 284.338 298 284.994C298 286.278 298.51 287.51 299.418 288.418L300 289L301.675 290.675C302.546 291.546 303.609 292.203 304.778 292.593C305.587 292.862 306.435 292.993 307.288 293.03C308.493 293.083 309.933 293.216 310.5 293.5C310.939 293.719 311.197 294.349 311.341 295.011C311.541 295.934 311.055 296.833 310.3 297.4C309.781 297.789 309.149 298 308.5 298H307.206C305.771 298 304.372 297.552 303.205 296.718L302.218 296.013C301.74 295.672 301.291 295.291 300.876 294.876L298 292L296.444 290.132C295.817 289.38 295.279 288.558 294.841 287.682C293.959 285.918 293.5 283.974 293.5 282.002V278V275.82C293.5 274.613 293.668 273.411 294 272.25L294.324 271.117C294.441 270.708 294.5 270.284 294.5 269.858C294.5 268.378 295.215 266.989 296.419 266.129L297.537 265.331C297.845 265.111 298.17 264.915 298.509 264.746L303 262.5L304.963 261.273C306.311 260.431 307.793 259.824 309.345 259.479L311.5 259L318.5 258L324.5 257L328.141 256.272C329.045 256.091 329.964 256 330.886 256H336H340.929C341.642 256 342.353 256.055 343.057 256.162C345.359 256.511 348.658 257 349 257Z" fill="#FF0000" stroke="black" style="fill:#FF0000;fill:color(display-p3 1.0000 0.0000 0.0000);fill-opacity:1;stroke:black;stroke-opacity:1;"/>
<path d="M252.27 168.385L254.705 169.603C255.18 169.84 255.753 169.747 256.128 169.372C256.61 168.89 256.61 168.11 256.128 167.628L255.635 167.135C255.545 167.045 255.464 166.947 255.395 166.84C255.045 166.295 254.5 165.362 254.5 165C254.5 164.5 254 163.5 254 163V162.275C254 161.427 254.084 160.581 254.25 159.75C254.416 158.919 254.5 158.073 254.5 157.225V155.5V152.5V151.303C254.5 150.442 254.336 149.589 254.016 148.79C253.676 147.939 253.166 147.166 252.518 146.518L252.014 146.014C251.672 145.672 251.354 145.306 251.064 144.918L250.597 144.296C250.199 143.766 249.765 143.265 249.296 142.796L249.204 142.704C248.735 142.235 248.301 141.734 247.903 141.204L247 140L246.105 138.807C245.703 138.27 245.349 137.698 245.049 137.098L244.961 136.922C244.655 136.309 244.416 135.665 244.25 135C244.084 134.335 243.845 133.691 243.539 133.078L243 132L242.399 130.799C242.134 130.267 241.821 129.761 241.464 129.286L241.449 129.265C240.82 128.427 240.331 127.494 240 126.5C239.833 126 239.5 124.9 239.5 124.5C239.5 123.838 239.607 123.18 239.816 122.551L240 122L240.141 121.576C240.355 120.934 240.134 120.226 239.592 119.819C238.966 119.349 238.089 119.411 237.535 119.965L237.485 120.015C237.174 120.326 237 120.747 237 121.186V124.192C237 125.059 237.127 125.922 237.376 126.753L238.5 130.5L240.5 135L241.333 137.775C241.775 139.248 242.456 140.639 243.35 141.89L244.5 143.5L247.5 147L249.633 149.666C250.842 151.177 251.5 153.054 251.5 154.989C251.5 156.311 251.192 157.616 250.601 158.799L250.242 159.517C249.754 160.492 249.5 161.568 249.5 162.658V163.903C249.5 165.801 250.572 167.536 252.27 168.385Z" fill="#FF0000" stroke="black" style="fill:#FF0000;fill:color(display-p3 1.0000 0.0000 0.0000);fill-opacity:1;stroke:black;stroke-opacity:1;"/>
<path d="M589.382 125.5H590.146C590.998 125.5 591.552 126.396 591.171 127.158C591.06 127.38 590.88 127.56 590.658 127.671L590.258 127.871C590.087 127.957 589.931 128.069 589.796 128.204C589.601 128.399 589.364 128.545 589.102 128.633L588.75 128.75C588.257 128.914 587.809 129.191 587.441 129.559L587.407 129.593C587.138 129.862 586.826 130.087 586.485 130.258L586.403 130.298C586.135 130.432 585.853 130.537 585.562 130.609L584 131L582.5 131.5C581.506 131.831 580.466 132 579.419 132H577.5H577.081C576.034 132 574.994 131.831 574 131.5L572.5 131L572.249 130.937C571.092 130.648 569.993 130.162 569 129.5L567.5 128.5L566 127.5L564.848 126.732C564.616 126.578 564.401 126.401 564.204 126.204L564.059 126.059C563.691 125.691 563.243 125.414 562.75 125.25C562.257 125.086 561.809 124.809 561.441 124.441L560.8 123.8C560.601 123.601 560.372 123.436 560.121 123.31C559.714 123.107 559.367 122.801 559.115 122.423L558.772 121.907C558.591 121.636 558.384 121.384 558.154 121.154L557 120L556.542 119.542C556.182 119.182 555.786 118.858 555.362 118.575L555.095 118.397C554.7 118.133 554.272 117.924 553.822 117.774L553.58 117.693C553.196 117.565 552.794 117.5 552.389 117.5C551.804 117.5 551.234 117.654 550.682 117.846C550.429 117.934 550.178 118 550 118H549.445C549.15 118 548.857 118.048 548.578 118.141L548.561 118.146C547.882 118.373 547.14 118.32 546.5 118L545.5 117.5L544.5 117L543.947 116.724C543.653 116.577 543.329 116.5 543 116.5H542H541H540.75C540.336 116.5 540 116.164 540 115.75C540 115.336 540.336 115 540.75 115H542.275C542.425 115 542.574 115.015 542.721 115.044L544.148 115.33C544.715 115.443 545.27 115.608 545.807 115.823L546.572 116.129C547.185 116.374 547.839 116.5 548.5 116.5C549.161 116.5 549.815 116.374 550.428 116.129L550.483 116.107C551.473 115.711 552.557 115.611 553.602 115.82L554.5 116C555.454 116.318 556.215 117.005 556.961 117.681L557.003 117.718C557.19 117.887 557.366 118 557.5 118C557.571 118 557.653 118.031 557.742 118.086C558.82 118.741 559.501 119.901 560.486 120.689C561.16 121.228 561.889 121.695 562.661 122.081L563.371 122.435C564.122 122.811 564.838 123.253 565.51 123.757L565.704 123.903C566.234 124.301 566.735 124.735 567.204 125.204L568 126L568.134 126.134C568.707 126.707 569.37 127.185 570.096 127.548L570.153 127.577C570.715 127.858 571.312 128.062 571.928 128.186L572.507 128.301C573.161 128.432 573.777 128.708 574.31 129.107C575.082 129.687 576.022 130 576.988 130H578H578.307C580.086 130 581.849 129.661 583.5 129L584.551 128.474C585.18 128.16 585.753 127.747 586.25 127.25L586.356 127.144C586.783 126.717 587.275 126.362 587.815 126.093L588.658 125.671C588.883 125.558 589.131 125.5 589.382 125.5Z" fill="#FF0000" stroke="black" style="fill:#FF0000;fill:color(display-p3 1.0000 0.0000 0.0000);fill-opacity:1;stroke:black;stroke-opacity:1;"/>
<path d="M550.5 270.5L548.758 271.274C547.658 271.763 547.623 273.311 548.699 273.85C548.897 273.949 549.115 274 549.336 274H550.526C552.414 274 554.207 273.175 555.435 271.742L556.5 270.5L558.5 267.5L561.714 263.483C562.223 262.847 562.5 262.056 562.5 261.241C562.5 259.623 563.583 258.205 565.145 257.779L566.598 257.382C567.517 257.132 568.485 257.121 569.41 257.352L572.821 258.205C573.605 258.401 574.372 258.665 575.111 258.994L575.171 259.021C577.354 259.991 579.252 261.503 580.686 263.414L581.5 264.5L583.2 266.767C585.018 269.19 586 272.137 586 275.167V276V278.764C586 279.577 586.189 280.379 586.553 281.106L587.767 283.533C587.91 283.819 588.202 284 588.522 284C588.819 284 589.093 283.844 589.246 283.59L590.007 282.321C590.33 281.784 590.5 281.169 590.5 280.542V276V274.704C590.5 273.255 590.162 271.825 589.514 270.528C589.173 269.845 588.916 269.123 588.751 268.378L588.451 267.028C588.159 265.715 587.428 264.542 586.378 263.702C585.798 263.238 585.311 262.669 584.942 262.024L584.5 261.25C583.839 260.094 582.966 259.073 581.926 258.241L581.893 258.214C581.299 257.739 580.657 257.329 579.977 256.989L575 254.5L573.161 253.764C571.106 252.942 568.844 252.789 566.697 253.326L565.254 253.687C563.189 254.203 561.452 255.596 560.5 257.5L558.5 261L557.163 263.673C556.722 264.555 556.192 265.39 555.563 266.149C554.86 266.998 554.023 267.977 553.5 268.5C552.7 269.3 551.167 270.167 550.5 270.5Z" fill="#FF0000" stroke="black" style="fill:#FF0000;fill:color(display-p3 1.0000 0.0000 0.0000);fill-opacity:1;stroke:black;stroke-opacity:1;"/>
<path id="calculator" />  
  </svg>
    <script>
      const svg = document.getElementById('svg');
      const calc = document.getElementById('calculator');

      const colors = [
        '#FF0000'
      ]

      const paths = Array.from(svg.getElementsByTagName('path')).filter(path => colors.includes(path.getAttribute('fill')));

      function convertFromEquirectangular(x, y, width, height) {
          var lon = (x / (width / 360.0)) + 0;
          var lat = (y / (height / 180.0)) + 0;
          return { longitude: lon, latitude: lat };
      }

      function isCCW(points) {
        let area = 0;
        const n = points.length;
        for (let i = 0; i < n; i++) {
            const p1 = points[i];
            const p2 = points[(i + 1) % n];
            area += (p2[0] - p1[0]) * (p2[1] + p1[1]);
        }

        return area < 0;
      }

      let ok = true;

      const cPaths = [];

      for (const path of paths) {
        const borders = path.getAttribute('d').split('M').slice(1).map(item => 'M' + item);

        const subPaths = [];

        for (const border of borders) {
          const points = [];

          calc.setAttribute('d', border);

          const total = calc.getTotalLength();

          for (let i = 0; i < total; i += 1) {
            const cords = calc.getPointAtLength(i);

            const pos = convertFromEquirectangular(cords.x - 1023 / 2, cords.y - 510 / 2, 1023, 510);

            points.push([pos.longitude, -pos.latitude]);
          }

          const cords = calc.getPointAtLength(0);

          const pos = convertFromEquirectangular(cords.x - 1023 / 2, cords.y - 510 / 2, 1023, 510);

          points.push([pos.longitude, -pos.latitude]);

          if (isCCW(points)) {
            subPaths.push(points.reverse());
          } else {
            subPaths.push(points);
          }
        }

        cPaths.push(subPaths);
      }

      console.log(cPaths.map((val, index) => ({
          type: 'feature',
          properties: {
            fill: '#060C48',
            elevation: 0.03,
            index: index
          },
          geometry: {
            type: 'Polygon',
            coordinates: val
          }
        })));
    </script>
</body>
</html>